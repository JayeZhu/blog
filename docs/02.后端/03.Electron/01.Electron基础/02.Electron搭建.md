---
title: Electron搭建
date: 2025-10-20 11:29:24
permalink: /pages/9fcefe/
categories:
  - 后端
tags:
  - Electron
  - Electron基础
---
## 常用方式
要搭建Electron开发环境，可以按照以下几种方法进行：

### 方法一：手动创建项目
1. 创建一个非中文命名的文件夹：
   ```bash
   mkdir demo1
   ```
2. 进入该目录：
   ```bash
   cd demo1
   ```
3. 新建`index.html`和`main.js`文件
4. 生成`package.json`：
   ```bash
   npm init
   ```
5. 运行项目：
   ```bash
   electron .
   ```
   注意：初次运行可能看不到效果，需要继续配置项目。

### 方法二：Git克隆electron-quick-start项目
1. 克隆项目到指定目录：
   ```bash
   git clone https://github.com/electron/electron-quick-start demo2
   ```
2. 进入目录：
   ```bash
   cd demo2
   ```
3. 安装依赖：
   ```bash
   npm install
   ```
4. 运行项目：
   ```bash
   npm start
   ```


### 方法三：使用electron-forge脚手架
1. 全局安装electron-forge（只需首次安装）：
   ```bash
   npm install -g electron-forge
   ```
   或使用cnpm：
   ```bash
   cnpm install -g electron-forge
   ```
2. 创建项目：
   ```bash
   electron-forge demo3
   ```
   如果安装失败，可删除node_modules文件夹后重新安装依赖。

3. 进入项目目录：
   ```bash
   cd demo3
   ```
4. 运行项目：
   ```bash
   npm start
   ```

## electron-vite
electron-vite是一个基于Vite的Electron开发工具，它提供了一种更简单、更高效的方式来构建Electron应用。
### 安装
前提条件:
```bash
npm i electron-vite -D
```
在安装了 electron-vite 的项目中，你可以直接使用 npx electron-vite 运行，也可以在 package.json 文件中添加 npm scripts：
```json
{
  "scripts": {
    "start": "electron-vite preview", // 开启 Electron 程序预览生产构建
    "dev": "electron-vite dev", // 开启开发服务和 Electron 程序
    "prebuild": "electron-vite build" // 为生产构建代码
  }
}
```
你还可以指定其他 CLI 选项，例如 --outDir。 有关 CLI 选项的完整列表，可以在你的项目中运行 npx electron-vite -h。

了解更多有关 命令行界面 的信息。

### 配置 electron-vite
当以命令行方式运行 electron-vite 时，electron-vite 将会自动尝试解析项目根目录下名为 electron.vite.config.js 的配置文件。最基本的配置文件如下所示：

```js
// electron.vite.config.js
export default {
  main: {
    // vite config options
  },
  preload: {
    // vite config options
  },
  renderer: {
    // vite config options
  }
}
```

### Electron 入口
当使用 electron-vite 打包代码时，Electron 应用程序的入口点应更改为输出目录中的主进程入口文件。默认的输出目录 outDir 为 out。你的 package.json 文件会是这样：
```json
{
  "name": "electron-app",
  "version": "1.0.0",
  "main": "./out/main/index.js"
}
```
Electron 的工作目录将是输出目录，而不是你的源代码目录。因此在打包 Electron 应用程序时可以将源代码排除。


### 搭建第一个 electron-vite 项目
在命令行中运行以下命令：
```bash
npm create @quick-start/electron@latest
然后按照提示操作即可!


✔ Project name: … <electron-app>
✔ Select a framework: › vue
✔ Add TypeScript? … No / Yes
✔ Add Electron updater plugin? … No / Yes
✔ Enable Electron download mirror proxy? … No / Yes

Scaffolding project in ./<electron-app>...
Done.
```

无论选择哪种方法，都需要确保已安装Node.js和npm。对于初学者，推荐使用方法二或方法三，因为它们提供了更完整的项目结构和配置。