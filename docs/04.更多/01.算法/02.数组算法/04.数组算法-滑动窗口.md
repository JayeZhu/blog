---
title: 数组算法-滑动窗口
date: 2025-10-22 23:03:20
permalink: /pages/7108c0/
categories:
  - 更多
tags:
  - 算法
  - 数组算法
---
滑动窗口是一种非常高效且常用的技巧，它实际上是双指针的一种变体。这种模式通常用于处理连续子数组或子串的问题，特别是涉及求和、乘积等操作的场景。本文将通过第209题（长度最小的子数组）来展示如何使用JavaScript中的滑动窗口来优化数组问题的解决方案。

## 第209题：长度最小的子数组

### 题目描述
给定一个含有 `n` 个正整数的数组和一个正整数 `target`。

找出该数组中满足其和 `≥ target` 的长度最小的连续子数组 `[numsl, numsl+1, ..., numsr-1, numsr]` ，并返回其长度。如果不存在符合条件的子数组，返回 0 。

### 示例
```
输入：target = 7, nums = [2,3,1,2,4,3]
输出：2
解释：子数组 [4,3] 是该条件下的长度最小的子数组。
```

### 使用滑动窗口的解决方案
滑动窗口非常适合解决这类连续子数组问题。我们可以使用两个指针（左边界和右边界）来表示窗口的左右边界：
1. 初始化左右边界都为0，表示一个空窗口。
2. 移动右边界，扩大窗口，将元素加入窗口，并更新窗口内元素的和。
3. 当窗口内元素的和大于等于目标值时，尝试缩小窗口（移动左边界），同时更新最小长度。
4. 重复步骤2和3，直到右边界到达数组末尾。

### 代码实现
```javascript
/**
 * @param {number} target
 * @param {number[]} nums
 * @return {number}
 */
var minSubArrayLen = function(target, nums) {
    // 初始化最小长度为无穷大
    let minLength = Infinity;
    // 初始化窗口和为0
    let sum = 0;
    // 初始化左边界
    let left = 0;
    
    // 遍历数组，右边界从0开始
    for (let right = 0; right < nums.length; right++) {
        // 将当前元素加入窗口和
        sum += nums[right];
        
        // 当窗口和大于等于目标值时，尝试缩小窗口
        while (sum >= target) {
            // 更新最小长度
            minLength = Math.min(minLength, right - left + 1);
            // 移除左边界元素，缩小窗口
            sum -= nums[left];
            // 左边界右移
            left++;
        }
    }
    
    // 如果最小长度仍为无穷大，说明没有符合条件的子数组，返回0
    return minLength === Infinity ? 0 : minLength;
};
```

### 复杂度分析
- 时间复杂度：O(n)，其中n是数组的长度。虽然有两个嵌套循环，但每个元素最多被访问两次（一次被右边界加入，一次被左边界移除），所以总时间复杂度是线性的。
- 空间复杂度：O(1)，只使用了常数级别的额外空间。

## 滑动窗口模式详解

### 什么是滑动窗口？
滑动窗口是一种在数组/字符串中维护一个可变大小窗口的技术，通过移动窗口的左右边界来解决问题。它通常用于寻找满足特定条件的连续子数组或子串。

### 滑动窗口的基本框架
```javascript
function slidingWindow(nums) {
    let left = 0, right = 0;
    let window = {}; // 窗口内的数据，可以是和、计数等
    
    while (right < nums.length) {
        // 扩大窗口，将right位置的元素加入window
        window.add(nums[right]);
        right++;
        
        // 判断是否需要缩小窗口
        while (windowNeedsShrinking()) {
            // 更新答案
            updateAnswer();
            
            // 缩小窗口，移除left位置的元素
            window.remove(nums[left]);
            left++;
        }
    }
    
    return answer;
}
```

### 滑动窗口的适用场景
滑动窗口通常适用于以下类型的题目：
1. 寻找满足特定条件的最长/最短子数组或子串。
2. 寻找满足特定条件的子数组或子串的数量。
3. 字符串中的排列、异位词等问题。

### 滑动窗口的优势
1. 时间效率高：通常可以将O(n²)的暴力解法优化到O(n)。
2. 空间效率高：通常只需要常数级别的额外空间。
3. 思路清晰：将复杂问题分解为扩大窗口和缩小窗口两个简单操作。

## 总结

第209题（长度最小的子数组）是滑动窗口模式的典型应用，展示了如何使用滑动窗口来高效地寻找满足特定条件的最短子数组。

滑动窗口的核心思想是：
1. 使用两个指针（左边界和右边界）表示窗口的左右边界。
2. 通过移动右边界来扩大窗口，加入新的元素。
3. 当窗口满足特定条件时，通过移动左边界来缩小窗口，同时更新答案。
4. 继续扩大窗口，直到遍历完整个数组。

这种模式的优点是：
1. 时间效率高：通常只需要一次遍历，时间复杂度为O(n)。
2. 空间效率高：通常只需要常数级别的额外空间。
3. 通用性强：可以应用于多种连续子数组/子串问题。

在实际编程中，滑动窗口模式广泛应用于数组/字符串的子序列问题、窗口内统计问题等。