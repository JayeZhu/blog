---
title: React搭建
date: 2025-10-16 18:02:47
permalink: /pages/53d028/
categories:
  - 前端
tags:
  - React
  - Rect基础
---
## Create React App

### 安装与初始化

```bash
# 全局安装
npm install -g create-react-app

# 创建新项目
npx create-react-app my-app

# 进入项目目录
cd my-app

# 启动开发服务器
npm start
```

### 项目结构说明

```
my-app/
├── node_modules/        # 项目依赖
├── public/             # 静态资源
│   ├── index.html      # HTML模板
│   └── favicon.ico     # 网站图标
├── src/                # 源代码
│   ├── App.css         # App组件样式
│   ├── App.js          # App组件
│   ├── App.test.js     # App组件测试
│   ├── index.css       # 全局样式
│   ├── index.js        # 入口文件
│   └── logo.svg        # Logo图片
├── .gitignore          # Git忽略文件
├── package.json        # 项目配置
└── README.md           # 项目说明
```

## 开发工具配置

### VS Code推荐插件

1. **ES7+ React/Redux/React-Native snippets**
   - React代码片段快速生成
   - 常用组件模板

2. **Prettier - Code formatter**
   - 代码格式化
   - 自动格式化保存

3. **ESLint**
   - 代码质量检查
   - 错误提示

4. **React Tools**
   - React组件预览
   - Props检查

### VS Code设置

```json
// .vscode/settings.json
{
  "editor.formatOnSave": true,
  "editor.codeActionsOnSave": {
    "source.fixAll.eslint": true
  },
  "emmet.includeLanguages": {
    "javascript": "javascriptreact"
  }
}
```

## 项目结构优化建议

### 基础结构

```
src/
├── components/         # 可复用组件
│   ├── common/        # 通用组件
│   └── layout/        # 布局组件
├── pages/             # 页面组件
├── hooks/             # 自定义Hooks
├── utils/             # 工具函数
├── assets/            # 静态资源
│   ├── images/
│   ├── styles/
│   └── fonts/
├── services/          # API接口
├── store/             # 状态管理
├── router/            # 路由配置
└── constants/         # 常量定义
```

### 组件组织规范

1. **组件文件命名**
   - 使用PascalCase
   - 例：`UserProfile.jsx`

2. **组件文件夹结构**
   ```
   components/
   └── UserProfile/
       ├── UserProfile.jsx
       ├── UserProfile.css
       └── index.js
   ```

3. **样式组织**
   ```
   styles/
   ├── index.css          # 全局样式
   ├── variables.css      # CSS变量
   ├── components/        # 组件样式
   └── utilities/         # 工具类
   ```

## 开发配置

### 环境变量配置

```bash
# .env.development
REACT_APP_API_URL=http://localhost:3000
REACT_APP_ENV=development

# .env.production
REACT_APP_API_URL=https://api.example.com
REACT_APP_ENV=production
```

### 路径别名配置

```json
// package.json
{
  "scripts": {
    "start": "react-scripts start",
    "build": "react-scripts build",
    "test": "react-scripts test",
    "eject": "react-scripts eject"
  }
}
```

```js
// craco.config.js
const path = require('path');

module.exports = {
  webpack: {
    alias: {
      '@': path.resolve(__dirname, 'src'),
    },
  },
};
```

### Git配置

```gitignore
# dependencies
/node_modules
/.pnp
.pnp.js

# testing
/coverage

# production
/build

# misc
.DS_Store
.env.local
.env.development.local
.env.test.local
.env.production.local

npm-debug.log*
yarn-debug.log*
yarn-error.log*
```

## 常用开发命令

```bash
# 开发模式
npm start

# 生产构建
npm run build

# 运行测试
npm test

# 代码检查
npm run lint

# 格式化代码
npm run format
```

## 性能优化配置

### Webpack配置优化

```js
// craco.config.js
module.exports = {
  webpack: {
    configure: (webpackConfig) => {
      // 生产环境压缩代码
      if (process.env.NODE_ENV === 'production') {
        webpackConfig.optimization.splitChunks = {
          chunks: 'all',
          cacheGroups: {
            vendor: {
              test: /[\\/]node_modules[\\/]/,
              name: 'vendors',
              chunks: 'all',
            },
          },
        };
      }
      return webpackConfig;
    },
  },
};
```

## 总结

1. **开发环境搭建**
   - 使用Create React App快速初始化
   - 配置合适的开发工具
   - 建立规范的项目结构

2. **优化建议**
   - 使用路径别名简化导入
   - 配置代码格式化和检查
   - 合理组织组件和样式

3. **注意事项**
   - 环境变量命名必须以REACT_APP_开头
   - 生产环境构建前进行代码检查
   - 定期更新依赖版本