---
title: React 组件
date: 2025-10-12 23:50:05
permalink: /pages/a50719/
categories:
  - 前端
tags:
  - React
  - Rect基础
---
:::tip
在当今前端开发领域，React以其组件化架构和高效的渲染机制已成为构建用户界面的首选方案。组件是React应用的基石，良好的组件设计不仅能提升开发效率，还能大幅提高代码的可维护性和可测试性。
:::

## 组件
React使用组件为基础构建用户界面。将应用程序中可`复用`的UI元素，改写为一个能够在页面上渲染的组件，这样就能够通过复用这些组件，完成快速开发。组件有一下优点：
- **可复用性**：组件可以复用，避免重复编写相同的代码。
- **可维护性**：组件可以独立开发、测试和部署，提高代码的可维护性。
- **可扩展性**：组件可以嵌套组合，实现复杂的用户界面。

## JSX语法简介

JSX是JavaScript的语法扩展，允许我们在JavaScript代码中编写类似HTML的标记。

JSX基本规则
```jsx
// 正确的JSX写法
function Welcome() {
  return (
    <div>
      <h1 className="title">Hello, World!</h1>
      <p>这是一段介绍文字</p>
    </div>
  );
```
​重要规则​：
- ​组件名必须大写开头​：以区分HTML原生标签和小写字母开头的自定义组件
- ​单个根元素​：组件只能返回一个顶层元素
- ​className代替class​：因为class是JavaScript的保留字

## 组件导入与导出
组件可以通过import和export语句进行导入和导出。
### 导出组件
```jsx
// 默认导出（一个文件只能有一个）
export default function Button() {
  return <button>Click me</button>;
}

// 具名导出（一个文件可以有多个）
export function SubmitButton() {
  return <button type="submit">Submit</button>;
}

export function CancelButton() {
  return <button type="button">Cancel</button>;
}
```

### 导入组件
```jsx
// 导入默认导出
import Button from './Button';

// 导入具名导出
import { SubmitButton, CancelButton } from './Button';

// 同时导入默认和具名导出
import Button, { SubmitButton } from './Button';
```

## 组件分类
组件分为类组件和函数组件。
### 类组件
类组件使用ES6类语法定义，继承自React.Component。
```jsx
import React, { Component } from 'react';

class Welcome extends Component {
  constructor(props) {
    super(props);
  }
  
  render() {
    return <h1>Hello, {this.props.name}!</h1>;
  }
}
```

### 函数组件
函数组件使用ES6函数定义，返回React元素。
```jsx
import React from 'react';

function Welcome(props) {
  return <h1>Hello, {props.name}!</h1>;
}
```

### 类组件和函数组件区别
| 特性维度 | 类组件 (Class Components) | 函数组件 (Functional Components) |
| :--- | :--- | :--- |
| ​语法与代码量​ | 语法相对复杂，需要更多代码（如class、constructor、render方法） | 语法简洁直观，代码量少，类似普通函数 |
| ​状态管理​ | 使用this.state和this.setState管理内部状态 | 16.8版本后，通过useState等Hook管理状态 |
| ​生命周期​ | 拥有完整的生命周期方法（如componentDidMount、componentDidUpdate） | 无传统生命周期，使用useEffectHook模拟生命周期行为 |
| ​this绑定​ | 需要处理this指向问题，易引发错误 | 无this绑定问题 |
| ​逻辑复用​ | 通过高阶组件（HOC）、Render Props等方式复用逻辑，可能造成"嵌套地狱" | 通过自定义Hook实现逻辑复用，更灵活清晰 |
| ​性能优化​ | 可使用shouldComponentUpdate进行优化 | 可使用React.memo、useMemo、useCallback进行优化 |
| ​学习曲线​ | 需理解ES6类、继承、this绑定等概念，对初学者可能较复杂 | 基础用法简单，但深入理解Hooks（如依赖数组）需要学习 |
| ​测试性​ | |作为纯函数，​更易于测试，给定相同props必然返回相同结果 |  |
| ​TypeScript支持​ | | 通常有更好的类型推断 |
| ​适用场景​ | 复杂状态逻辑、需要明确生命周期方法的组件 | ​现代React开发的主流选择，尤其配合Hooks，适用于大多数场景 |

### 如何选择
- 新项目：函数组件
- 旧项目维护：类组件
- 特定场景：函数组件配合Hooks

