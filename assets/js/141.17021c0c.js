(window.webpackJsonp=window.webpackJsonp||[]).push([[141],{496:function(s,a,t){"use strict";t.r(a);var n=t(8),e=Object(n.a)({},(function(){var s=this,a=s._self._c;return a("ContentSlotsDistributor",{attrs:{"slot-key":s.$parent.slotKey}},[a("div",{staticClass:"custom-block tip"},[a("p",{staticClass:"custom-block-title"},[s._v("提示")]),s._v(" "),a("p",[s._v("开始构建Nodejs开发环境，以及管理版本。")])]),s._v(" "),a("h2",{attrs:{id:"node-js-版本选择策略"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#node-js-版本选择策略"}},[s._v("#")]),s._v(" Node.js 版本选择策略")]),s._v(" "),a("ul",[a("li",[s._v("​LTS（长期支持版）​​")]),s._v(" "),a("li",[s._v("​Current（最新功能版）")])]),s._v(" "),a("p",[s._v("开发选 LTS")]),s._v(" "),a("h2",{attrs:{id:"多平台安装"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#多平台安装"}},[s._v("#")]),s._v(" 多平台安装")]),s._v(" "),a("p",[s._v("https://nodejs.org/zh-cn/download")]),s._v(" "),a("h2",{attrs:{id:"版本管理"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#版本管理"}},[s._v("#")]),s._v(" 版本管理")]),s._v(" "),a("h3",{attrs:{id:"nvm-node-version-manager"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#nvm-node-version-manager"}},[s._v("#")]),s._v(" nvm（Node Version Manager）")]),s._v(" "),a("p",[s._v("nvm 是最流行的 Node.js 版本管理工具，支持 macOS/Linux 和 Windows（通过 nvm-windows）。")]),s._v(" "),a("p",[s._v("下载：https://nvm.uihtm.com/doc/download-nvm.html")]),s._v(" "),a("p",[s._v("安装：https://nvm.uihtm.com/doc/install.html")]),s._v(" "),a("p",[s._v("​常用 nvm 命令​：")]),s._v(" "),a("div",{staticClass:"language-bash line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-bash"}},[a("code",[s._v("nvm "),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("install")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("18.16")]),s._v(".0     "),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 安装指定版本")]),s._v("\nnvm use "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("18.16")]),s._v(".0         "),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 切换到指定版本")]),s._v("\nnvm "),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("ls")]),s._v("                  "),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 查看已安装版本")]),s._v("\nnvm ls-remote           "),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 查看所有可安装版本")]),s._v("\nnvm "),a("span",{pre:!0,attrs:{class:"token builtin class-name"}},[s._v("alias")]),s._v(" default "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("18")]),s._v("    "),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 设置默认版本")]),s._v("\nnvm uninstall "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("14.17")]),s._v(".0   "),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 卸载指定版本")]),s._v("\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br"),a("span",{staticClass:"line-number"},[s._v("2")]),a("br"),a("span",{staticClass:"line-number"},[s._v("3")]),a("br"),a("span",{staticClass:"line-number"},[s._v("4")]),a("br"),a("span",{staticClass:"line-number"},[s._v("5")]),a("br"),a("span",{staticClass:"line-number"},[s._v("6")]),a("br")])]),a("h3",{attrs:{id:"版本管理最佳实践"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#版本管理最佳实践"}},[s._v("#")]),s._v(" 版本管理最佳实践")]),s._v(" "),a("ul",[a("li",[s._v('在项目根目录创建 .nvmrc文件，指定 Node.js 版本（如 echo "18" > .nvmrc），运行 nvm use即可自动切换')]),s._v(" "),a("li",[s._v("团队项目中统一 Node.js 版本，避免环境差异导致的问题")]),s._v(" "),a("li",[s._v("生产环境使用 LTS 版本，开发环境可尝试 Current 版本测试新特性")])]),s._v(" "),a("h2",{attrs:{id:"环境配置与优化"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#环境配置与优化"}},[s._v("#")]),s._v(" 环境配置与优化")]),s._v(" "),a("h3",{attrs:{id:"npm-配置优化"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#npm-配置优化"}},[s._v("#")]),s._v(" npm 配置优化")]),s._v(" "),a("p",[s._v("​配置国内镜像源加速下载​：")]),s._v(" "),a("div",{staticClass:"language-bash line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-bash"}},[a("code",[a("span",{pre:!0,attrs:{class:"token function"}},[s._v("npm")]),s._v(" config "),a("span",{pre:!0,attrs:{class:"token builtin class-name"}},[s._v("set")]),s._v(" registry https://registry.npmmirror.com\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br")])]),a("p",[s._v("​配置全局安装路径​（避免权限问题）：")]),s._v(" "),a("div",{staticClass:"language-bash line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-bash"}},[a("code",[a("span",{pre:!0,attrs:{class:"token function"}},[s._v("mkdir")]),s._v(" ~/.npm-global\n"),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("npm")]),s._v(" config "),a("span",{pre:!0,attrs:{class:"token builtin class-name"}},[s._v("set")]),s._v(" prefix "),a("span",{pre:!0,attrs:{class:"token string"}},[s._v("'~/.npm-global'")]),s._v("\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br"),a("span",{staticClass:"line-number"},[s._v("2")]),a("br")])]),a("p",[s._v("将 export PATH=~/.npm-global/bin:$PATH添加到 shell 配置文件（如 ~/.bashrc或 ~/.zshrc），然后运行 source ~/.zshrc使配置生效。")]),s._v(" "),a("h3",{attrs:{id:"nrm"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#nrm"}},[s._v("#")]),s._v(" nrm")]),s._v(" "),a("p",[s._v("https://www.npmjs.com/package/nrm")]),s._v(" "),a("p",[s._v("安装： "),a("code",[s._v("npm install -g nrm")])]),s._v(" "),a("p",[s._v("常用命令：")]),s._v(" "),a("div",{staticClass:"language-bash line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-bash"}},[a("code",[s._v("nrm "),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("ls")]),s._v("                "),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 查看所有可用镜像源")]),s._v("\nnrm use taobao        "),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 切换到淘宝镜像源")]),s._v("\nnrm "),a("span",{pre:!0,attrs:{class:"token builtin class-name"}},[s._v("test")]),s._v("              "),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 测试所有镜像源的响应速度")]),s._v("\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br"),a("span",{staticClass:"line-number"},[s._v("2")]),a("br"),a("span",{staticClass:"line-number"},[s._v("3")]),a("br")])]),a("h2",{attrs:{id:"常用开发工具安装"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#常用开发工具安装"}},[s._v("#")]),s._v(" 常用开发工具安装")]),s._v(" "),a("div",{staticClass:"language-bash line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-bash"}},[a("code",[a("span",{pre:!0,attrs:{class:"token function"}},[s._v("npm")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("install")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token parameter variable"}},[s._v("-g")]),s._v(" nodemon    "),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 自动重启开发服务器")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("npm")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("install")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token parameter variable"}},[s._v("-g")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("yarn")]),s._v("       "),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 替代 npm 的包管理器")]),s._v("\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br"),a("span",{staticClass:"line-number"},[s._v("2")]),a("br")])]),a("h2",{attrs:{id:"项目环境配置"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#项目环境配置"}},[s._v("#")]),s._v(" 项目环境配置")]),s._v(" "),a("h3",{attrs:{id:"初始化新项目"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#初始化新项目"}},[s._v("#")]),s._v(" 初始化新项目")]),s._v(" "),a("div",{staticClass:"language-bash line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-bash"}},[a("code",[a("span",{pre:!0,attrs:{class:"token function"}},[s._v("mkdir")]),s._v(" my-node-project "),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("&&")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token builtin class-name"}},[s._v("cd")]),s._v(" my-node-project\n"),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("npm")]),s._v(" init "),a("span",{pre:!0,attrs:{class:"token parameter variable"}},[s._v("-y")]),s._v("               "),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 快速生成 package.json")]),s._v("\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br"),a("span",{staticClass:"line-number"},[s._v("2")]),a("br")])]),a("p",[s._v("生成的 package.json包含项目基本信息、依赖和脚本。")]),s._v(" "),a("h3",{attrs:{id:"多环境配置管理"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#多环境配置管理"}},[s._v("#")]),s._v(" 多环境配置管理")]),s._v(" "),a("p",[s._v("使用 dotenv管理环境变量：")]),s._v(" "),a("ul",[a("li",[s._v("安装 dotenv：npm install dotenv")]),s._v(" "),a("li",[s._v("创建 .env文件：")])]),s._v(" "),a("div",{staticClass:"language- line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-text"}},[a("code",[s._v("PORT=3001\nNODE_ENV=development\nDB_URL=mongodb://localhost:27017/dev\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br"),a("span",{staticClass:"line-number"},[s._v("2")]),a("br"),a("span",{staticClass:"line-number"},[s._v("3")]),a("br")])]),a("p",[s._v("在代码中加载配置：")]),s._v(" "),a("div",{staticClass:"language-javascript line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-javascript"}},[a("code",[a("span",{pre:!0,attrs:{class:"token function"}},[s._v("require")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),a("span",{pre:!0,attrs:{class:"token string"}},[s._v("'dotenv'")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("config")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("const")]),s._v(" port "),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v(" process"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("env"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),a("span",{pre:!0,attrs:{class:"token constant"}},[s._v("PORT")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("||")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("3000")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br"),a("span",{staticClass:"line-number"},[s._v("2")]),a("br")])]),a("p",[s._v("对于复杂项目，可以创建 config 目录，为不同环境（开发、测试、生产）提供独立配置文件。")]),s._v(" "),a("h2",{attrs:{id:"常见问题与解决方案"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#常见问题与解决方案"}},[s._v("#")]),s._v(" 常见问题与解决方案")]),s._v(" "),a("p",[s._v("​权限错误（EACCES）​​：")]),s._v(" "),a("ul",[a("li",[a("p",[s._v("问题：全局安装包时出现权限错误")])]),s._v(" "),a("li",[a("p",[s._v("解决：按照上文方法配置 npm 全局路径，避免使用 sudo")])])]),s._v(" "),a("p",[s._v("​命令未找到（command not found）​​：")]),s._v(" "),a("ul",[a("li",[a("p",[s._v("问题：系统无法识别 node 或 npm 命令")])]),s._v(" "),a("li",[a("p",[s._v("解决：检查环境变量配置，确保 Node.js 安装路径已添加到 PATH")])])]),s._v(" "),a("p",[s._v("​版本冲突​：")]),s._v(" "),a("ul",[a("li",[a("p",[s._v("问题：不同项目需要不同 Node.js 版本")])]),s._v(" "),a("li",[a("p",[s._v("解决：使用 nvm 等版本管理工具为不同项目切换版本")])])]),s._v(" "),a("p",[s._v("​安装速度慢​：")]),s._v(" "),a("ul",[a("li",[a("p",[s._v("问题：npm 安装包速度缓慢")])]),s._v(" "),a("li",[a("p",[s._v("解决：切换国内镜像源，或使用 nrm 管理镜像源")])])]),s._v(" "),a("p",[s._v("2.7 验证环境配置\n创建测试文件 test.js：")]),s._v(" "),a("div",{staticClass:"language-javascript line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-javascript"}},[a("code",[s._v("console"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("log")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),a("span",{pre:!0,attrs:{class:"token string"}},[s._v('"Node.js 环境配置成功！"')]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\nconsole"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("log")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),a("span",{pre:!0,attrs:{class:"token string"}},[s._v('"当前Node版本:"')]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v(" process"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("version"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\nconsole"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("log")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),a("span",{pre:!0,attrs:{class:"token string"}},[s._v('"运行平台:"')]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v(" process"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("platform"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br"),a("span",{staticClass:"line-number"},[s._v("2")]),a("br"),a("span",{staticClass:"line-number"},[s._v("3")]),a("br")])]),a("p",[s._v("运行测试：")]),s._v(" "),a("div",{staticClass:"language-bash line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-bash"}},[a("code",[a("span",{pre:!0,attrs:{class:"token function"}},[s._v("node")]),s._v(" test.js\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br")])]),a("p",[s._v("如果看到成功输出信息，说明 Node.js 环境已正确配置。")]),s._v(" "),a("h2",{attrs:{id:"小结"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#小结"}},[s._v("#")]),s._v(" 小结")]),s._v(" "),a("p",[s._v("本章详细介绍了 Node.js 环境搭建和版本管理的完整流程，涵盖了多平台安装方法、版本管理工具的使用技巧、环境配置优化以及常见问题解决方案。掌握这些技能是 Node.js 开发的基础，能够确保你在不同项目和团队协作中保持开发环境的一致性和稳定性。")]),s._v(" "),a("p",[s._v("在接下来的章节中，我们将深入探讨 Node.js 的核心模块和异步编程机制，为你打下坚实的 Node.js 开发基础。")])])}),[],!1,null,null,null);a.default=e.exports}}]);